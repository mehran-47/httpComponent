#!/usr/bin/env python3
import os, psutil, shelve as sh, sys
if __name__ == '__main__':
    pid = None
    killList = []
    try:
        db = sh.open('/opt/SA_stats/compDB.db')
        killList = db['PIDs']
    except FileNotFoundError:
        print('"compDB.db" not found')
        sys.exit()        
    finally:
        db.close()
        try:
            for pidToKill in killList: psutil.Process(pidToKill).kill()
        except:
            print('process not found')
        os.remove('/opt/SA_stats/compDB.db')